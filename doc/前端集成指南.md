# å‰ç«¯WebSocketé›†æˆæŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•åœ¨å‰ç«¯é¡¹ç›®ä¸­é›†æˆRuoYi-ChatèŠå¤©åŠŸèƒ½ã€‚

## 1. WebSocketè¿æ¥

### 1.1 è¿æ¥åœ°å€

```javascript
// WebSocketè¿æ¥åœ°å€
const wsUrl = 'ws://localhost:9999/ws';

// å¦‚æœéœ€è¦è®¤è¯ï¼Œå¯ä»¥åœ¨URLä¸­æ·»åŠ tokenå‚æ•°
const wsUrlWithAuth = 'ws://localhost:9999/ws?token=' + userToken;
```

### 1.2 å»ºç«‹è¿æ¥

```javascript
class ChatWebSocket {
    constructor(url, options = {}) {
        this.url = url;
        this.ws = null;
        this.reconnectAttempts = 0;
        this.maxReconnectAttempts = options.maxReconnectAttempts || 5;
        this.reconnectInterval = options.reconnectInterval || 3000;
        this.heartbeatInterval = options.heartbeatInterval || 30000;
        this.heartbeatTimer = null;
        
        // äº‹ä»¶å›è°ƒ
        this.onOpen = options.onOpen || (() => {});
        this.onMessage = options.onMessage || (() => {});
        this.onClose = options.onClose || (() => {});
        this.onError = options.onError || (() => {});
        
        this.connect();
    }
    
    connect() {
        try {
            this.ws = new WebSocket(this.url);
            
            this.ws.onopen = (event) => {
                console.log('WebSocketè¿æ¥å·²å»ºç«‹');
                this.reconnectAttempts = 0;
                this.startHeartbeat();
                this.onOpen(event);
            };
            
            this.ws.onmessage = (event) => {
                const message = JSON.parse(event.data);
                console.log('æ”¶åˆ°æ¶ˆæ¯:', message);
                this.onMessage(message);
            };
            
            this.ws.onclose = (event) => {
                console.log('WebSocketè¿æ¥å·²å…³é—­');
                this.stopHeartbeat();
                this.onClose(event);
                this.handleReconnect();
            };
            
            this.ws.onerror = (event) => {
                console.error('WebSocketè¿æ¥é”™è¯¯:', event);
                this.onError(event);
            };
        } catch (error) {
            console.error('WebSocketè¿æ¥å¤±è´¥:', error);
            this.handleReconnect();
        }
    }
    
    handleReconnect() {
        if (this.reconnectAttempts < this.maxReconnectAttempts) {
            this.reconnectAttempts++;
            console.log(`å°è¯•é‡è¿ (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);
            setTimeout(() => {
                this.connect();
            }, this.reconnectInterval);
        } else {
            console.error('WebSocketé‡è¿å¤±è´¥ï¼Œå·²è¾¾åˆ°æœ€å¤§é‡è¿æ¬¡æ•°');
        }
    }
    
    startHeartbeat() {
        this.heartbeatTimer = setInterval(() => {
            if (this.ws && this.ws.readyState === WebSocket.OPEN) {
                this.send({
                    type: 'HEARTBEAT',
                    timestamp: new Date().toISOString()
                });
            }
        }, this.heartbeatInterval);
    }
    
    stopHeartbeat() {
        if (this.heartbeatTimer) {
            clearInterval(this.heartbeatTimer);
            this.heartbeatTimer = null;
        }
    }
    
    send(message) {
        if (this.ws && this.ws.readyState === WebSocket.OPEN) {
            this.ws.send(JSON.stringify(message));
            return true;
        } else {
            console.warn('WebSocketè¿æ¥æœªå°±ç»ªï¼Œæ¶ˆæ¯å‘é€å¤±è´¥');
            return false;
        }
    }
    
    close() {
        this.stopHeartbeat();
        if (this.ws) {
            this.ws.close();
        }
    }
}
```

## 2. æ¶ˆæ¯åè®®

### 2.1 æ¶ˆæ¯ç±»å‹

```javascript
const MessageType = {
    AUTH: 'AUTH',                    // è®¤è¯æ¶ˆæ¯
    AUTH_SUCCESS: 'AUTH_SUCCESS',    // è®¤è¯æˆåŠŸ
    AUTH_FAILED: 'AUTH_FAILED',      // è®¤è¯å¤±è´¥
    PRIVATE_CHAT: 'PRIVATE_CHAT',    // ç§èŠæ¶ˆæ¯
    GROUP_CHAT: 'GROUP_CHAT',        // ç¾¤èŠæ¶ˆæ¯
    HEARTBEAT: 'HEARTBEAT',          // å¿ƒè·³æ¶ˆæ¯
    HEARTBEAT_RESPONSE: 'HEARTBEAT_RESPONSE', // å¿ƒè·³å“åº”
    USER_ONLINE: 'USER_ONLINE',      // ç”¨æˆ·ä¸Šçº¿
    USER_OFFLINE: 'USER_OFFLINE',    // ç”¨æˆ·ä¸‹çº¿
    MESSAGE_READ: 'MESSAGE_READ',    // æ¶ˆæ¯å·²è¯»
    SYSTEM_NOTICE: 'SYSTEM_NOTICE',  // ç³»ç»Ÿé€šçŸ¥
    ERROR: 'ERROR'                   // é”™è¯¯æ¶ˆæ¯
};
```

### 2.2 æ¶ˆæ¯æ ¼å¼

```javascript
// åŸºç¡€æ¶ˆæ¯æ ¼å¼
const baseMessage = {
    type: 'MESSAGE_TYPE',           // æ¶ˆæ¯ç±»å‹
    messageId: 'unique-id',         // æ¶ˆæ¯ID
    timestamp: '2024-01-01T12:00:00', // æ—¶é—´æˆ³ï¼ˆISOæ ¼å¼ï¼‰
    fromUserId: 123,                // å‘é€è€…ID
    toUserId: 456,                  // æ¥æ”¶è€…IDï¼ˆç§èŠæ—¶ä½¿ç”¨ï¼‰
    sessionId: 'session-id',        // ä¼šè¯ID
    content: 'message content',     // æ¶ˆæ¯å†…å®¹
    contentType: 'TEXT',            // å†…å®¹ç±»å‹
    extra: {}                       // é¢å¤–æ•°æ®
};

// è®¤è¯æ¶ˆæ¯
const authMessage = {
    type: 'AUTH',
    fromUserId: 123,                // ç”¨æˆ·ID
    content: 'user-jwt-token'       // è®¤è¯token
};

// ç§èŠæ¶ˆæ¯
const privateChatMessage = {
    type: 'PRIVATE_CHAT',
    messageId: 'msg-' + Date.now(),
    sessionId: 'session-id',        // ä¼šè¯ID
    fromUserId: 123,                // å‘é€è€…ID
    toUserId: 456,                  // æ¥æ”¶è€…ID
    contentType: 'TEXT',            // å†…å®¹ç±»å‹ï¼šTEXT, IMAGE, EMOJI, FILE
    content: 'Hello World',         // æ¶ˆæ¯å†…å®¹
    timestamp: new Date().toISOString(),
    extra: {
        replyToMessageId: 'reply-msg-id' // å›å¤çš„æ¶ˆæ¯IDï¼ˆå¯é€‰ï¼‰
    }
};

// ç¾¤èŠæ¶ˆæ¯
const groupChatMessage = {
    type: 'GROUP_CHAT',
    messageId: 'msg-' + Date.now(),
    sessionId: 'group-session-id',  // ç¾¤èŠä¼šè¯ID
    fromUserId: 123,                // å‘é€è€…ID
    contentType: 'TEXT',            // å†…å®¹ç±»å‹
    content: 'Hello Everyone',      // æ¶ˆæ¯å†…å®¹
    timestamp: new Date().toISOString()
};
```

### 2.3 å†…å®¹ç±»å‹

```javascript
const ContentType = {
    TEXT: 'TEXT',       // æ–‡æœ¬æ¶ˆæ¯
    IMAGE: 'IMAGE',     // å›¾ç‰‡æ¶ˆæ¯
    EMOJI: 'EMOJI',     // è¡¨æƒ…æ¶ˆæ¯
    FILE: 'FILE'        // æ–‡ä»¶æ¶ˆæ¯
};
```

## 3. ä½¿ç”¨ç¤ºä¾‹

### 3.1 åˆå§‹åŒ–èŠå¤©å®¢æˆ·ç«¯

```javascript
// åˆ›å»ºèŠå¤©å®¢æˆ·ç«¯
const chatClient = new ChatWebSocket('ws://localhost:9999/ws', {
    maxReconnectAttempts: 5,
    reconnectInterval: 3000,
    heartbeatInterval: 30000,
    
    onOpen: (event) => {
        console.log('èŠå¤©è¿æ¥å·²å»ºç«‹');
        // å‘é€è®¤è¯æ¶ˆæ¯
        chatClient.send({
            type: 'AUTH',
            fromUserId: getCurrentUserId(),
            content: localStorage.getItem('token')
        });
    },
    
    onMessage: (message) => {
        handleIncomingMessage(message);
    },
    
    onClose: (event) => {
        console.log('èŠå¤©è¿æ¥å·²æ–­å¼€');
        showConnectionStatus('disconnected');
    },
    
    onError: (event) => {
        console.error('èŠå¤©è¿æ¥é”™è¯¯');
        showConnectionStatus('error');
    }
});
```

### 3.2 å‘é€æ¶ˆæ¯

```javascript
// å‘é€ç§èŠæ–‡æœ¬æ¶ˆæ¯
function sendPrivateTextMessage(sessionId, content, toUserId) {
    const message = {
        type: 'PRIVATE_CHAT',
        messageId: 'msg-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
        sessionId: sessionId,
        fromUserId: getCurrentUserId(),
        toUserId: toUserId,
        contentType: 'TEXT',
        content: content,
        timestamp: new Date().toISOString()
    };
    
    return chatClient.send(message);
}

// å‘é€ç¾¤èŠæ–‡æœ¬æ¶ˆæ¯
function sendGroupTextMessage(sessionId, content) {
    const message = {
        type: 'GROUP_CHAT',
        messageId: 'msg-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
        sessionId: sessionId,
        fromUserId: getCurrentUserId(),
        contentType: 'TEXT',
        content: content,
        timestamp: new Date().toISOString()
    };
    
    return chatClient.send(message);
}

// å‘é€ç§èŠå›¾ç‰‡æ¶ˆæ¯
function sendPrivateImageMessage(sessionId, imageUrl, toUserId) {
    const message = {
        type: 'PRIVATE_CHAT',
        messageId: 'msg-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
        sessionId: sessionId,
        fromUserId: getCurrentUserId(),
        toUserId: toUserId,
        contentType: 'IMAGE',
        content: imageUrl,
        timestamp: new Date().toISOString(),
        extra: {
            width: 800,
            height: 600,
            size: 1024000
        }
    };
    
    return chatClient.send(message);
}

// å‘é€è¡¨æƒ…æ¶ˆæ¯
function sendEmojiMessage(sessionId, emojiCode, toUserId = null) {
    const message = {
        type: 'CHAT_MESSAGE',
        messageId: 'msg-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
        sessionId: sessionId,
        fromUserId: getCurrentUserId(),
        toUserId: toUserId,
        contentType: 'EMOJI',
        content: emojiCode,
        timestamp: new Date().toISOString()
    };
    
    return chatClient.send(message);
}
```

### 3.3 å¤„ç†æ¥æ”¶æ¶ˆæ¯

```javascript
function handleIncomingMessage(message) {
    switch (message.type) {
        case 'CHAT_MESSAGE':
            displayChatMessage(message);
            break;
            
        case 'SYSTEM_NOTIFICATION':
            displaySystemNotification(message);
            break;
            
        case 'SESSION_NOTIFICATION':
            handleSessionNotification(message);
            break;
            
        case 'USER_STATUS':
            updateUserStatus(message.fromUserId, message.content);
            break;
            
        case 'ERROR':
            handleErrorMessage(message);
            break;
            
        default:
            console.warn('æœªçŸ¥æ¶ˆæ¯ç±»å‹:', message.type);
    }
}

function displayChatMessage(message) {
    const chatContainer = document.getElementById('chat-messages');
    const messageElement = createMessageElement(message);
    chatContainer.appendChild(messageElement);
    chatContainer.scrollTop = chatContainer.scrollHeight;
}

function createMessageElement(message) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${message.fromUserId === getCurrentUserId() ? 'sent' : 'received'}`;
    
    let contentHtml = '';
    switch (message.contentType) {
        case 'TEXT':
            contentHtml = `<p>${escapeHtml(message.content)}</p>`;
            break;
        case 'IMAGE':
            contentHtml = `<img src="${message.content}" alt="å›¾ç‰‡" class="message-image" />`;
            break;
        case 'EMOJI':
            contentHtml = `<span class="emoji">${message.content}</span>`;
            break;
        case 'FILE':
            contentHtml = `<a href="${message.content}" download class="file-link">ğŸ“ ${message.extra?.fileName || 'æ–‡ä»¶'}</a>`;
            break;
    }
    
    messageDiv.innerHTML = `
        <div class="message-header">
            <span class="sender">${message.fromUserNickname || 'ç”¨æˆ·' + message.fromUserId}</span>
            <span class="timestamp">${formatTimestamp(message.timestamp)}</span>
        </div>
        <div class="message-content">${contentHtml}</div>
    `;
    
    return messageDiv;
}
```

## 4. REST APIé›†æˆ

### 4.1 ä¼šè¯ç®¡ç†

```javascript
// åˆ›å»ºç§èŠä¼šè¯
async function createPrivateSession(targetUserId) {
    const response = await fetch('/chat/session/private', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + getToken()
        },
        body: JSON.stringify({
            targetUserId: targetUserId
        })
    });
    return response.json();
}

// åˆ›å»ºç¾¤èŠä¼šè¯
async function createGroupSession(sessionName, memberIds) {
    const response = await fetch('/chat/session/group', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + getToken()
        },
        body: JSON.stringify({
            sessionName: sessionName,
            memberIds: memberIds
        })
    });
    return response.json();
}

// è·å–ç”¨æˆ·ä¼šè¯åˆ—è¡¨
async function getUserSessions() {
    const response = await fetch('/chat/session/list', {
        headers: {
            'Authorization': 'Bearer ' + getToken()
        }
    });
    return response.json();
}
```

### 4.2 æ¶ˆæ¯ç®¡ç†

```javascript
// è·å–ä¼šè¯æ¶ˆæ¯
async function getSessionMessages(sessionId, pageNum = 1, pageSize = 20) {
    const response = await fetch(`/chat/message/list?sessionId=${sessionId}&pageNum=${pageNum}&pageSize=${pageSize}`, {
        headers: {
            'Authorization': 'Bearer ' + getToken()
        }
    });
    return response.json();
}

// æ ‡è®°æ¶ˆæ¯ä¸ºå·²è¯»
async function markMessageAsRead(messageId) {
    const response = await fetch('/chat/message/read', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer ' + getToken()
        },
        body: JSON.stringify({
            messageId: messageId
        })
    });
    return response.json();
}

// æ’¤å›æ¶ˆæ¯
async function recallMessage(messageId) {
    const response = await fetch(`/chat/message/recall/${messageId}`, {
        method: 'POST',
        headers: {
            'Authorization': 'Bearer ' + getToken()
        }
    });
    return response.json();
}
```

## 5. å·¥å…·å‡½æ•°

```javascript
// è·å–å½“å‰ç”¨æˆ·ID
function getCurrentUserId() {
    // ä»tokenæˆ–localStorageä¸­è·å–ç”¨æˆ·ID
    const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}');
    return userInfo.userId;
}

// è·å–è®¤è¯token
function getToken() {
    return localStorage.getItem('token');
}

// HTMLè½¬ä¹‰
function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

// æ ¼å¼åŒ–æ—¶é—´æˆ³
function formatTimestamp(timestamp) {
    const date = new Date(timestamp);
    const now = new Date();
    const diff = now - date;
    
    if (diff < 60000) { // 1åˆ†é’Ÿå†…
        return 'åˆšåˆš';
    } else if (diff < 3600000) { // 1å°æ—¶å†…
        return Math.floor(diff / 60000) + 'åˆ†é’Ÿå‰';
    } else if (diff < 86400000) { // 24å°æ—¶å†…
        return Math.floor(diff / 3600000) + 'å°æ—¶å‰';
    } else {
        return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
    }
}

// æ˜¾ç¤ºè¿æ¥çŠ¶æ€
function showConnectionStatus(status) {
    const statusElement = document.getElementById('connection-status');
    if (statusElement) {
        statusElement.textContent = status === 'connected' ? 'å·²è¿æ¥' : 
                                   status === 'disconnected' ? 'å·²æ–­å¼€' : 'è¿æ¥é”™è¯¯';
        statusElement.className = `status ${status}`;
    }
}
```

## 6. CSSæ ·å¼ç¤ºä¾‹

```css
/* èŠå¤©å®¹å™¨ */
.chat-container {
    display: flex;
    flex-direction: column;
    height: 500px;
    border: 1px solid #ddd;
    border-radius: 8px;
    overflow: hidden;
}

/* æ¶ˆæ¯åˆ—è¡¨ */
.chat-messages {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
    background-color: #f5f5f5;
}

/* æ¶ˆæ¯æ ·å¼ */
.message {
    margin-bottom: 16px;
    max-width: 70%;
}

.message.sent {
    margin-left: auto;
    text-align: right;
}

.message.received {
    margin-right: auto;
    text-align: left;
}

.message-header {
    font-size: 12px;
    color: #666;
    margin-bottom: 4px;
}

.message-content {
    background-color: white;
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.message.sent .message-content {
    background-color: #007bff;
    color: white;
}

/* å›¾ç‰‡æ¶ˆæ¯ */
.message-image {
    max-width: 200px;
    max-height: 200px;
    border-radius: 4px;
}

/* è¡¨æƒ…æ¶ˆæ¯ */
.emoji {
    font-size: 24px;
}

/* æ–‡ä»¶é“¾æ¥ */
.file-link {
    color: #007bff;
    text-decoration: none;
}

/* è¾“å…¥åŒºåŸŸ */
.chat-input {
    display: flex;
    padding: 16px;
    border-top: 1px solid #ddd;
    background-color: white;
}

.chat-input input {
    flex: 1;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-right: 8px;
}

.chat-input button {
    padding: 8px 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

/* è¿æ¥çŠ¶æ€ */
.status {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
}

.status.connected {
    background-color: #d4edda;
    color: #155724;
}

.status.disconnected {
    background-color: #f8d7da;
    color: #721c24;
}

.status.error {
    background-color: #fff3cd;
    color: #856404;
}
```

## 7. å®Œæ•´ç¤ºä¾‹

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuoYièŠå¤©ç¤ºä¾‹</title>
    <style>
        /* è¿™é‡ŒåŒ…å«ä¸Šé¢çš„CSSæ ·å¼ */
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h3>èŠå¤©å®¤</h3>
            <span id="connection-status" class="status disconnected">æœªè¿æ¥</span>
        </div>
        
        <div id="chat-messages" class="chat-messages">
            <!-- æ¶ˆæ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
        </div>
        
        <div class="chat-input">
            <input type="text" id="message-input" placeholder="è¾“å…¥æ¶ˆæ¯..." />
            <button onclick="sendMessage()">å‘é€</button>
        </div>
    </div>

    <script>
        // è¿™é‡ŒåŒ…å«ä¸Šé¢çš„JavaScriptä»£ç 
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ¨¡æ‹Ÿç”¨æˆ·ä¿¡æ¯
            localStorage.setItem('userInfo', JSON.stringify({ userId: 123 }));
            localStorage.setItem('token', 'mock-jwt-token');
            
            // åˆå§‹åŒ–èŠå¤©å®¢æˆ·ç«¯
            window.chatClient = new ChatWebSocket('ws://localhost:9999/ws', {
                onOpen: () => showConnectionStatus('connected'),
                onMessage: handleIncomingMessage,
                onClose: () => showConnectionStatus('disconnected'),
                onError: () => showConnectionStatus('error')
            });
            
            // ç»‘å®šå›è½¦å‘é€
            document.getElementById('message-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });
        
        function sendMessage() {
            const input = document.getElementById('message-input');
            const content = input.value.trim();
            
            if (content && window.chatClient) {
                sendTextMessage('default-session', content);
                input.value = '';
            }
        }
    </script>
</body>
</html>
```

## 8. æ³¨æ„äº‹é¡¹

1. **è®¤è¯**: ç¡®ä¿åœ¨å»ºç«‹WebSocketè¿æ¥åç«‹å³å‘é€è®¤è¯æ¶ˆæ¯
2. **é‡è¿æœºåˆ¶**: å®ç°è‡ªåŠ¨é‡è¿æœºåˆ¶ä»¥å¤„ç†ç½‘ç»œä¸­æ–­
3. **å¿ƒè·³æ£€æµ‹**: å®šæœŸå‘é€å¿ƒè·³æ¶ˆæ¯ä¿æŒè¿æ¥æ´»è·ƒ
4. **é”™è¯¯å¤„ç†**: å¦¥å–„å¤„ç†å„ç§é”™è¯¯æƒ…å†µ
5. **æ¶ˆæ¯å»é‡**: ä½¿ç”¨messageIdé¿å…é‡å¤æ¶ˆæ¯
6. **æ€§èƒ½ä¼˜åŒ–**: å¯¹äºå¤§é‡æ¶ˆæ¯ï¼Œè€ƒè™‘è™šæ‹Ÿæ»šåŠ¨ç­‰ä¼˜åŒ–æ–¹æ¡ˆ
7. **å®‰å…¨æ€§**: å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œé€‚å½“çš„è½¬ä¹‰å’ŒéªŒè¯

## 9. æ•…éšœæ’é™¤

### 9.1 è¿æ¥é—®é¢˜
- æ£€æŸ¥WebSocketæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ï¼ˆç«¯å£9999ï¼‰
- ç¡®è®¤é˜²ç«å¢™è®¾ç½®
- éªŒè¯URLæ ¼å¼æ˜¯å¦æ­£ç¡®

### 9.2 è®¤è¯é—®é¢˜
- æ£€æŸ¥tokenæ˜¯å¦æœ‰æ•ˆ
- ç¡®è®¤ç”¨æˆ·IDæ˜¯å¦æ­£ç¡®
- éªŒè¯åç«¯è®¤è¯é€»è¾‘

### 9.3 æ¶ˆæ¯é—®é¢˜
- æ£€æŸ¥æ¶ˆæ¯æ ¼å¼æ˜¯å¦ç¬¦åˆåè®®
- ç¡®è®¤ä¼šè¯IDæ˜¯å¦å­˜åœ¨
- éªŒè¯ç”¨æˆ·æƒé™

æ›´å¤šé—®é¢˜è¯·å‚è€ƒé¡¹ç›®æ–‡æ¡£æˆ–æäº¤Issueã€‚